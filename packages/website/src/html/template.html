<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>
      <% if (metadata.order === 1) { %>
        <%- globals.name %>
      <% } else { %>
        <%- metadata.title %> &mdash; <%- globals.name %>
      <% } %>
    </title>
    <meta property="og:title" content="<%- metadata.title %>">
    <meta name="twitter:title" content="<%- metadata.title %>">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="/<%- urlPrefix %>/style.css" rel="stylesheet" />
  </head>
  <body class="page">
    <div class="page__skip-to-content">
      <a href="#content">Skip to content</a>
    </div>
    <header class="page__header">
      <h1 class="title">
        <% if (metadata.order === 1) { %>
          <span><%- globals.name %></span>
        <% } else { %>
          <a href="<%- pages[0].metadata.url %>"><%- globals.name %></a>
        <% } %>
      </h1>
      <button class="menu-toggle-button" aria-expanded="false">
        <div class="menu-toggle-button__inner">
          Toggle menu
        </div>
      </button>
      <nav class="menu">
        <ul>
          <% for (const page of pages) { %>
            <% if (page.metadata.url === metadata.url) { %>
              <li>
                <a href="<%- page.metadata.url %>" class="menu__active"><%- page.metadata.title %></a>
                <div class="menu__toc">
                  <%= toc %>
                </div>
              </li>
            <% } else { %>
              <li><a href="<%- page.metadata.url %>"><%- page.metadata.title %></a></li>
            <% } %>
          <% } %>
        </ul>
        <ul>
          <% for (const link of links) { %>
            <li><a href="<%- link.url %>" target="_blank"><%- link.title %></a></li>
          <% } %>
        </ul>
        <ul>
          <% for (const link of externalLinks) { %>
            <li><a href="<%- link.url %>" target="_blank"><%- link.title %></a></li>
          <% } %>
        </ul>
      </nav>
    </header>
    <main role="main" class="page__main">
      <div class="page__main-inner">
        <div class="content" id="content">
          <%= content %>
        </div>
        <ul class="pagination">
          <% if (previousPage !== null) { %>
            <li class="pagination__previous"><a href="<%- previousPage.metadata.url %>"><%- previousPage.metadata.title %></a></li>
          <% } %>
          <% if (nextPage !== null) { %>
            <li class="pagination__next"><a href="<%- nextPage.metadata.url %>"><%- nextPage.metadata.title %></a></li>
          <% } %>
        </ul>
      </div>
    </main>
    <script src="/<%- urlPrefix %>/script.js"></script>
  </body>
</html>
